## الفوز في اللعبة

لنعطي لاعبك مهمة، حيث تحتاج أن تتم للفوز باللعبة.

--- task ---

في هذه اللعبة، يفوز اللاعب عن طريق الوصول إلى الحديقة والهروب من المنزل. يجب عليهم أيضاً الحصول على المفتاح معهم، والجرعة السحرية. ها هي خريطة اللعبة.

![لقطة الشاشة](images/rpg-final-map.png)

--- /task ---

--- task ---

أولاً: تحتاج أن تضيف حديقة إلى الجنوب من غرفة الطعام. تذكر أن تضيف أبواباً ، لتربط بقية الغرف في المنزل.

--- code ---
---
language: python
line_highlights: 16-17,18-22
---

# قاموس يربط بين غرفة والغرف الأخرى

rooms = {

            'الصالة' : {
                'حنوب' : 'المطبخ',
                'شرق' : 'غرفة الطعام',
                'عنصر' : 'مفتاح'
            },
    
            'المطبخ' : {
                'شمال' : 'الصالة',
                'عنصر' : 'وحش'
            },
    
            'غرفة الطعام' : {
                'غرب' : 'الصالة',
                'جنوب' : 'الحديقة'
            },
    
            'الحديقة' : {
                'شمال' : 'غرفة الطعام'
            }
    
        }
    

--- /code ---

--- /task ---

--- task ---

أضف جرعة إلى غرفة الطعام (أو أي غرفة أخرى في منزلك).

--- code ---
---
language: python
line_highlights: 3-4
---

            'غرفة الطعام' : {
                'غرب' : 'الصالة',
                'شمال' : 'الحديقة',
                'عنصر' : 'جرعة'
            },
    

--- /code ---

--- /task ---

--- task ---

أضف هذا الكود لتسمح للاعب بالفوز في اللعبة عندما يصل إلى الحديقة مع المفتاح والجرعة:

--- code ---
---
language: python
line_highlights: 6-9
---

# اللاعب يخسر إذا دخل غرفةً بها وحش

if 'عنصر' in rooms[currentRoom] and 'وحش' in rooms[currentRoom]['عنصر']:
    print('الوحش قضي عليك... إنتهت اللعبة!')
    break


# يربح اللاعب إذا وصل إلى الحديقة مع المفتاح وجرعة

if currentRoom == 'الحديقة' and 'مفتاح' in inventory and 'جرعة' in inventory:
    print('لقد تمكنت من الهروب من المنزل... لقد ربحت!')
    break

--- /code ---

تأكد من أن الكود مسبق بمسافة بادئة، في السطر مع الكود أعلاه. هذا الكود يعني أن رسالة `لقد هربت من المنزل.. لقد ربحت!` قد عُرِضَت إذا كان اللاعب في الغرفة 4 (الحديقة) و إذا كان المفتاح و الجرعة في المخزون.

إذا كان لديك أكثر من ٤ غرف، قد تضطر لاستخدام رقم غرفة مختلف لحديقتك في الكود أعلاه.

--- /task ---

--- task ---

قم بتجربة لعبتك لتتأكد أن اللاعب يستطيع الفوز!

![لقطة الشاشة](images/rpg-win-test.png)

--- /task ---

--- task ---

أخيراً، لنقم بإضافة بعض التعليمات للعبتك، حتى يتمكن اللاعب من معرفة ما يجب فعله. حرَِر الدالَّة `showInstructions()` لإضافة المزيد من المعلومات.

--- code ---
---
language: python
line_highlights: 7-8
---

def showInstructions(): 
    #طباعة القائمة الرئيسية والأوامر 
    print('''

# لعبة RPG (لعبة تقمُّص الأدوار Role-Play Game)

إذهب للحديقة مع المفتاح والجرعة تفادى الوحوش!

الاوامر: اذهب [direction] احصل [item] ''')

--- /code ---

ستحتاج لإضافة التعليمات لتخبر المستخدم ما العناصر التي يحتاج لجمعها، وماذا يتجنب!

--- /task ---

--- task ---

قم بتجربة لعبتك حيث يجب أن ترى تعليماتك الجديدة.

![لقطة الشاشة](images/rpg-instructions-test.png)

--- /task ---